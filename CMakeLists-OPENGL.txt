cmake_minimum_required (VERSION 3.9.0)
project(main)

set(GLFW_BUILD_DOCS OFF CACHE BOOL "" FORCE)
set(GLFW_BUILD_TESTS OFF CACHE BOOL "" FORCE)
set(GLFW_BUILD_EXAMPLES OFF CACHE BOOL "" FORCE)

add_subdirectory(glfw)
include_directories(glfw/deps)
include_directories(glfw/include)

set(GLAD    "${GLFW_SOURCE_DIR}/deps/glad/gl.h"
            "${GLFW_SOURCE_DIR}/deps/glad_gl.c")
set(GETOPT  "${GLFW_SOURCE_DIR}/deps/getopt.h"
            "${GLFW_SOURCE_DIR}/deps/getopt.c")
set(TINYCTHREAD     "${GLFW_SOURCE_DIR}/deps/tinycthread.h"
                    "${GLFW_SOURCE_DIR}/deps/tinycthread.c")


set(SOURCE_FILES main.cpp)

find_package(OpenGL REQUIRED)
find_package(GLUT REQUIRED)
include_directories( ${OPENGL_INCLUDE_DIRS}  ${GLUT_INCLUDE_DIRS} )

add_executable(main ${SOURCE_FILES} ${TINYCTHREAD} ${GETOPT} ${GLAD} ${OPENGL_LIBRARIES} ${GLUT_LIBRARY})
target_link_libraries(main glfw ${GLFW_LIBRARIES})